/* 星纬AI用户画像分析平台 - 自定义样式 - 修改版本20250927 */

body {
    background-color: #f8f9fa;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

/* 控制面板样式 - 深色系 */
.control-panel .card {
    border: 1px solid #ecf0f1;
    background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
}

.control-panel .card-header {
    background: linear-gradient(135deg, #ecf0f1 0%, #d5dbdb 100%);
    border-bottom: 1px solid #bdc3c7;
    color: #2c3e50;
}

/* 维度选项卡样式 - 深色系 */
#dimensionTabs .nav-link {
    border-radius: 25px;
    margin-right: 8px;
    padding: 8px 16px;
    transition: all 0.3s ease;
    border: 1px solid transparent;
    font-size: 0.9rem;
    font-weight: 500;
}

#dimensionTabs .nav-link:hover {
    background-color: rgba(255, 255, 255, 0.15);
    border-color: rgba(255, 255, 255, 0.3);
    transform: translateY(-2px);
}

#dimensionTabs .nav-link.active {
    background: linear-gradient(45deg, #34495e, #2c3e50);
    border-color: #2c3e50;
    color: white;
    box-shadow: 0 4px 8px rgba(52, 73, 94, 0.3);
}

#dimensionTabs .nav-link i {
    margin-right: 6px;
}

/* 群组选择器样式 - 深色系 */
#groupSelector {
    border-radius: 10px;
    border: 2px solid #e9ecef;
    transition: all 0.3s ease;
}

#groupSelector:focus {
    border-color: #34495e;
    box-shadow: 0 0 0 0.2rem rgba(52, 73, 94, 0.25);
}

/* 卡片样式 */
.card {
    border: none;
    border-radius: 10px;
    box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
    transition: box-shadow 0.15s ease-in-out;
}

.card:hover {
    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
}

.card-header {
    background-color: #fff;
    border-bottom: 1px solid rgba(0, 0, 0, 0.125);
    font-weight: 600;
}

/* 导航栏样式 - 现代深色系 */
.navbar-brand {
    font-weight: 700;
    font-size: 1.5rem;
}

/* 顶部导航栏深炭灰色 */
.navbar.bg-primary {
    background: #2c3e50 !important;
}

.navbar-dark .navbar-brand {
    color: #ffffff !important;
}

.navbar-dark .navbar-brand:hover {
    color: #e67e22 !important;
}

.nav-text {
    font-size: 0.9rem;
}

/* 统计卡片样式 - 深色系 */
.card.bg-primary {
    background: linear-gradient(45deg, #34495e, #2c3e50) !important;
}

.card.bg-success {
    background: linear-gradient(45deg, #27ae60, #229954) !important;
}

.card.bg-info {
    background: linear-gradient(45deg, #3498db, #2980b9) !important;
}

/* 数据洞察区域样式 - 深色系 */
#compactInsights {
    color: #495057;
}

#compactInsights .insight-item {
    margin-right: 8px;
}

#compactInsights strong {
    color: #34495e;
    font-weight: 600;
}

.card.border-info {
    border-color: #34495e !important;
    background: linear-gradient(135deg, #f8f9fa 0%, #ecf0f1 100%);
}

.card.border-info .card-body {
    background: rgba(52, 73, 94, 0.02);
}

.card.bg-warning {
    background: linear-gradient(45deg, #e67e22, #d35400) !important;
}

/* 表格样式 - 深色系 */
.table {
    font-size: 0.9rem;
}

.table th {
    border-top: none;
    font-weight: 600;
    color: #495057;
}

.table-hover tbody tr:hover {
    background-color: rgba(52, 73, 94, 0.1);
}

/* 用户标签样式 */
.user-tag {
    display: inline-block;
    background-color: #e9ecef;
    color: #495057;
    padding: 2px 8px;
    margin: 2px;
    border-radius: 12px;
    font-size: 0.75rem;
    font-weight: 500;
}

.user-tag.tag-游戏爱好者 {
    background-color: #d4edda;
    color: #155724;
}

.user-tag.tag-学习导向 {
    background-color: #d1ecf1;
    color: #0c5460;
}

.user-tag.tag-技术达人 {
    background-color: #f8d7da;
    color: #721c24;
}

.user-tag.tag-社交活跃 {
    background-color: #fff3cd;
    color: #856404;
}

.user-tag.tag-生活关注 {
    background-color: #e2e3e5;
    color: #383d41;
}

/* 按钮样式 */
.btn-sm {
    font-size: 0.75rem;
    padding: 0.25rem 0.5rem;
}

/* 用户详情区域 */
#userDetail {
    min-height: 300px;
}

.user-info-item {
    margin-bottom: 15px;
    padding: 10px;
    background-color: #f8f9fa;
    border-radius: 5px;
    border-left: 4px solid #34495e;
}

.user-info-label {
    font-weight: 600;
    color: #495057;
    margin-bottom: 5px;
}

.user-info-content {
    color: #6c757d;
    font-size: 0.9rem;
    line-height: 1.4;
}

/* 图表容器 */
.chart-container {
    position: relative;
    height: 300px;
}

/* 词云功能已按需求删除 */

/* 发言类型分析样式 */
.content-type-card {
    transition: all 0.3s ease;
    cursor: pointer;
}

.content-type-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.content-type-icon {
    font-size: 2.5rem;
    margin-bottom: 15px;
}

.content-type-stats {
    padding: 20px;
}

.content-type-badge {
    font-size: 0.9rem;
    padding: 6px 12px;
}

.mobile-content-type-item {
    border-left: 4px solid #34495e;
    margin-bottom: 10px;
}

.content-type-filter-section {
    background: #f8f9fa;
    padding: 15px;
    border-radius: 8px;
    margin-bottom: 20px;
}

/* 图表容器优化 */
.chart-container {
    position: relative;
    height: 300px;
    margin: 10px 0;
}

.chart-container canvas {
    max-height: 280px !important;
}

/* 类型表格样式 */
.content-type-table {
    border-radius: 8px;
    overflow: hidden;
}

.content-type-table th {
    background: linear-gradient(135deg, #ecf0f1 0%, #d5dbdb 100%);
    color: #2c3e50;
    font-weight: 600;
    border: none;
    padding: 12px;
}

.content-type-table td {
    padding: 10px 12px;
    vertical-align: middle;
    border-color: #f0f0f0;
}

.content-type-table .badge {
    font-size: 0.85rem;
}

/* 移动端优化 */
@media (max-width: 768px) {
    .content-type-card {
        margin-bottom: 15px;
    }

    .content-type-icon {
        font-size: 2rem;
    }

    .chart-container {
        height: 250px;
    }

    .content-type-filter-section {
        padding: 10px;
    }
}

/* 桌面端表格内容截断优化 */
#usersTable td,
#contentTypeTable td,
#categoryUsersTable td {
    word-wrap: break-word;
    word-break: break-all;
}

/* 表格容器滚动条样式 */
.table-responsive {
    border: 1px solid #dee2e6;
    border-radius: 0.375rem;
}

.table-responsive::-webkit-scrollbar {
    height: 6px;
}

.table-responsive::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 3px;
}

.table-responsive::-webkit-scrollbar-thumb {
    background: #888;
    border-radius: 3px;
}

.table-responsive::-webkit-scrollbar-thumb:hover {
    background: #555;
}

/* ===== 整体概览页面样式 ===== */
.insight-item {
    display: flex;
    align-items: center;
    padding: 1rem;
    background: #f8f9fa;
    border-radius: 8px;
    border-left: 4px solid #007bff;
    transition: all 0.3s ease;
}

.insight-item:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.insight-icon {
    margin-right: 1rem;
    font-size: 1.5rem;
}

.insight-content h6 {
    margin-bottom: 0.25rem;
    color: #495057;
    font-weight: 600;
}

.insight-content p {
    color: #6c757d;
    font-size: 0.9rem;
}

/* 卡片悬停效果 */
.card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    transition: all 0.3s ease;
}

/* 关键指标卡片动画 */
#overviewStats .card {
    transition: all 0.3s ease;
    cursor: pointer;
}

#overviewStats .card:hover {
    transform: scale(1.02);
}

/* Chart.js 雷达图样式调整 */
.chart-container {
    position: relative;
    height: 300px;
    width: 100%;
}

/* 响应式设计 */
@media (max-width: 768px) {
    .container-fluid {
        padding: 0 8px;
    }
    
    .card {
        margin-bottom: 1rem;
    }
    
    .card-body {
        padding: 0.75rem 0.5rem;
    }
    
    .card-header {
        padding: 0.5rem 0.75rem;
        font-size: 0.9rem;
    }
    
    .card-header h5 {
        font-size: 1rem;
        margin-bottom: 0;
    }
    
    .navbar-brand {
        font-size: 1.1rem;
    }
    
    .nav-text {
        display: none;
    }
    
    /* 移动端用户表格优化 */
    #usersTableMobile {
        font-size: 0.8rem;
        margin-bottom: 0;
        width: 100% !important;
        table-layout: fixed;
    }
    
    #usersTableMobile th,
    #usersTableMobile td {
        padding: 0.4rem 0.3rem;
        border: none;
        overflow: hidden;
        text-overflow: ellipsis;
    }
    
    #usersTableMobile th {
        background-color: #f8f9fa;
        border-bottom: 2px solid #dee2e6;
        font-weight: 600;
        font-size: 0.75rem;
    }
    
    /* 移动端表格列宽分配 */
    #usersTableMobile th:nth-child(1),
    #usersTableMobile td:nth-child(1) {
        width: 50%;
    }
    
    #usersTableMobile th:nth-child(2),
    #usersTableMobile td:nth-child(2) {
        width: 15%;
        text-align: center;
    }
    
    #usersTableMobile th:nth-child(3),
    #usersTableMobile td:nth-child(3) {
        width: 20%;
        text-align: center;
    }
    
    #usersTableMobile th:nth-child(4),
    #usersTableMobile td:nth-child(4) {
        width: 15%;
        text-align: center;
    }
    
    /* 移动端用户信息显示 */
    .mobile-user-info {
        display: flex;
        flex-direction: column;
        gap: 0.2rem;
        width: 100%;
    }
    
    .mobile-user-name {
        font-weight: 600;
        font-size: 0.85rem;
        color: #495057;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }
    
    .mobile-user-group {
        font-size: 0.7rem;
        color: #6c757d;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }
    
    .mobile-user-tags {
        margin-top: 0.2rem;
    }
    
    .mobile-user-tags .user-tag {
        font-size: 0.65rem;
        padding: 1px 4px;
        margin: 1px 2px 1px 0;
        display: inline-block;
        max-width: 60px;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }
    
    /* 移动端按钮优化 */
    .btn-mobile {
        font-size: 0.7rem;
        padding: 0.3rem 0.5rem;
        border-radius: 0.25rem;
        min-width: 50px;
        white-space: nowrap;
    }
    
    /* 移动端统计卡片 */
    .row.mb-4:first-child .col-md-3 {
        margin-bottom: 0.5rem;
    }
    
    .card.bg-primary,
    .card.bg-success,
    .card.bg-info,
    .card.bg-warning {
        margin-bottom: 0.75rem;
    }
    
    .card.bg-primary .card-body,
    .card.bg-success .card-body,
    .card.bg-info .card-body,
    .card.bg-warning .card-body {
        padding: 0.75rem;
    }
    
    .card.bg-primary h4,
    .card.bg-success h4,
    .card.bg-info h4,
    .card.bg-warning h4 {
        font-size: 1.5rem;
    }
    
    /* 移动端图表区域 */
    .col-md-6 {
        margin-bottom: 1rem;
    }
    
    .chart-container {
        height: 250px;
    }
    
    /* 移动端词云样式已删除 */
    
    /* 热力图响应式 */
    .heatmap-container {
        font-size: 0.75rem;
        padding: 10px 5px;
        overflow-x: auto;
    }
    
    .heatmap-label {
        min-width: 50px;
        font-size: 0.65rem;
        padding: 3px 4px;
        max-width: 70px;
    }
    
    .heatmap-cell {
        width: 25px;
        height: 25px;
        font-size: 0.6rem;
        padding: 2px;
    }
    
    .heatmap-hour {
        font-size: 0.65rem;
        padding: 3px 2px;
    }
    
    .heatmap-legend {
        flex-direction: column;
        align-items: flex-start;
        margin-top: 10px;
    }
    
    .legend-gradient {
        width: 80px;
        height: 15px;
        margin: 5px 0;
    }
    
    .legend-labels {
        width: 80px;
        font-size: 0.7rem;
        margin-left: 0;
    }
    
    /* 移动端布局调整 */
    .col-lg-8, .col-lg-4 {
        margin-bottom: 1rem;
    }
    
    /* DataTables 移动端优化 */
    .dataTables_wrapper .dataTables_length,
    .dataTables_wrapper .dataTables_filter {
        margin-bottom: 0.5rem;
    }
    
    .dataTables_wrapper .dataTables_length select,
    .dataTables_wrapper .dataTables_filter input {
        font-size: 0.8rem;
        padding: 0.25rem 0.5rem;
    }
    
    .dataTables_wrapper .dataTables_info,
    .dataTables_wrapper .dataTables_paginate {
        font-size: 0.75rem;
        margin-top: 0.5rem;
    }
    
    .dataTables_wrapper .dataTables_paginate .paginate_button {
        padding: 0.25rem 0.5rem;
        margin: 0 1px;
        font-size: 0.75rem;
    }
    
    /* 移动端DataTables宽度强制100% */
    .dataTables_wrapper {
        width: 100% !important;
    }
    
    .dataTables_wrapper .dataTables_scroll {
        width: 100% !important;
    }
    
    .dataTables_wrapper .dataTables_scrollBody {
        width: 100% !important;
    }

    /* 强制显示移动端分页控件 */
    .dataTables_wrapper .dataTables_paginate {
        display: block !important;
        margin-top: 1rem !important;
        text-align: center !important;
    }

    .dataTables_wrapper .dataTables_info {
        display: block !important;
        text-align: center !important;
        margin-bottom: 0.5rem !important;
    }
}

/* 超小屏幕优化 (小于576px) */
@media (max-width: 576px) {
    .container-fluid {
        padding: 0 5px;
    }
    
    .navbar-brand {
        font-size: 1rem;
    }
    
    .card-header h5 {
        font-size: 0.9rem;
    }
    
    #usersTableMobile {
        font-size: 0.75rem;
    }
    
    #usersTableMobile th,
    #usersTableMobile td {
        padding: 0.3rem 0.2rem;
    }
    
    .mobile-user-group {
        max-width: 80px;
    }
    
    .btn-mobile {
        font-size: 0.65rem;
        padding: 0.25rem 0.4rem;
        min-width: 45px;
    }
    
    .heatmap-cell {
        width: 20px;
        height: 20px;
        font-size: 0.55rem;
    }
}

/* 加载动画 - 深色系 */
.loading {
    display: inline-block;
    width: 20px;
    height: 20px;
    border: 3px solid rgba(52, 73, 94, 0.3);
    border-radius: 50%;
    border-top-color: #34495e;
    animation: spin 1s ease-in-out infinite;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

/* DataTables 自定义样式 */
.dataTables_wrapper .dataTables_length select,
.dataTables_wrapper .dataTables_filter input {
    border: 1px solid #ced4da;
    border-radius: 0.25rem;
    padding: 0.375rem 0.75rem;
}

/* DataTables自定义搜索框布局优化 */
/* 注释掉搜索框隐藏规则，保证移动端也能显示搜索框
.dataTables_wrapper:not(:first-of-type) .dataTables_filter {
    display: none !important;
}
*/

.dataTables_wrapper .dataTables_paginate .paginate_button.current,
.dataTables_wrapper .dataTables_paginate .paginate_button.current:hover {
    background: #34495e;
    border-color: #34495e;
    color: white !important;
}

/* 主用户表格列宽度控制 */
#usersTable {
    table-layout: fixed;
    width: 100%;
}

#usersTable th:nth-child(1), /* 用户昵称 */
#usersTable td:nth-child(1) {
    width: 15%;
    max-width: 150px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

#usersTable th:nth-child(2), /* 主要群组 */
#usersTable td:nth-child(2) {
    width: 20%;
    max-width: 200px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

#usersTable th:nth-child(3), /* 参与群数 */
#usersTable td:nth-child(3) {
    width: 8%;
    text-align: center;
}

#usersTable th:nth-child(4), /* 消息数 */
#usersTable td:nth-child(4) {
    width: 10%;
    text-align: center;
}

#usersTable th:nth-child(5), /* 发言分类 */
#usersTable td:nth-child(5) {
    width: 10%;
    text-align: center;
}

#usersTable th:nth-child(6), /* 活跃排名 */
#usersTable td:nth-child(6) {
    width: 10%;
    text-align: center;
}

#usersTable th:nth-child(7), /* 标签 */
#usersTable td:nth-child(7) {
    width: 20%;
    max-width: 200px;
    overflow: hidden;
}

#usersTable th:nth-child(8), /* 操作 */
#usersTable td:nth-child(8) {
    width: 10%;
    min-width: 90px;
    text-align: center;
}

#usersTable th:last-child {
    white-space: nowrap;
}

#usersTable td:last-child .btn {
    white-space: nowrap;
}

/* 发言类型表格列宽度控制 */
#contentTypeTable {
    table-layout: fixed;
    width: 100%;
}

#contentTypeTable th:nth-child(1), /* 用户昵称 */
#contentTypeTable td:nth-child(1) {
    width: 15%;
    max-width: 150px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

#contentTypeTable th:nth-child(2), /* 发言类型 */
#contentTypeTable td:nth-child(2) {
    width: 12%;
    text-align: center;
}

#contentTypeTable th:nth-child(3), /* 消息数 */
#contentTypeTable td:nth-child(3) {
    width: 10%;
    text-align: center;
}

#contentTypeTable th:nth-child(4), /* 主要群组 */
#contentTypeTable td:nth-child(4) {
    width: 25%;
    max-width: 200px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

#contentTypeTable th:nth-child(5), /* 特征描述 */
#contentTypeTable td:nth-child(5) {
    width: 28%;
    max-width: 300px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

#contentTypeTable th:nth-child(6), /* 操作 */
#contentTypeTable td:nth-child(6) {
    width: 10%;
    min-width: 90px;
    text-align: center;
}

/* 分类用户表格列宽度控制 */
#categoryUsersTable {
    table-layout: fixed;
    width: 100%;
}

#categoryUsersTable th:nth-child(1), /* 用户昵称 */
#categoryUsersTable td:nth-child(1) {
    width: 20%;
    max-width: 200px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

#categoryUsersTable th:nth-child(2), /* 消息数 */
#categoryUsersTable td:nth-child(2) {
    width: 15%;
    text-align: center;
}

#categoryUsersTable th:nth-child(3), /* 主要群组 */
#categoryUsersTable td:nth-child(3) {
    width: 25%;
    max-width: 250px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

#categoryUsersTable th:nth-child(4), /* 特征描述 */
#categoryUsersTable td:nth-child(4) {
    width: 30%;
    max-width: 300px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

#categoryUsersTable th:nth-child(5), /* 操作 */
#categoryUsersTable td:nth-child(5) {
    width: 10%;
    min-width: 90px;
    text-align: center;
}

/* 热力图样式 */
.heatmap-container {
    padding: 20px;
    overflow-x: auto;
}

.heatmap-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.9rem;
    margin-bottom: 20px;
}

.heatmap-table th,
.heatmap-table td {
    border: 1px solid #ddd;
    text-align: center;
    vertical-align: middle;
}

.heatmap-label {
    background-color: #f8f9fa;
    font-weight: 600;
    padding: 6px 8px;
    white-space: nowrap;
    min-width: 80px;
    font-size: 0.85rem;
    max-width: 100px;
    overflow: hidden;
    text-overflow: ellipsis;
}

.heatmap-hour {
    background-color: #f8f9fa;
    font-weight: 600;
    padding: 8px 6px;
    font-size: 0.8rem;
}

.heatmap-cell {
    width: 40px;
    height: 40px;
    padding: 4px;
    cursor: pointer;
    transition: all 0.2s ease;
    font-weight: 600;
    color: #333;
}

.heatmap-cell:hover {
    transform: scale(1.1);
    border-color: #34495e;
    border-width: 2px;
}

.heatmap-legend {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-top: 15px;
}

.legend-label {
    margin-right: 10px;
    font-weight: 600;
}

.legend-gradient {
    width: 100px;
    height: 20px;
    background: linear-gradient(to right, 
        rgba(255, 99, 132, 0.1), 
        rgba(255, 99, 132, 1)
    );
    border: 1px solid #ddd;
    border-radius: 4px;
}

.legend-labels {
    display: flex;
    justify-content: space-between;
    width: 100px;
    margin-left: 10px;
    font-size: 0.8rem;
    color: #666;
}

/* 修复模态框布局跳跃问题 - 彻底解决方案 */

/* 最简单有效的方法：完全禁用Bootstrap的模态框滚动处理 */
html {
    /* 强制始终显示滚动条 */
    overflow-y: scroll !important;
}

/* 完全禁用Bootstrap模态框的所有样式修改 */
body.modal-open {
    overflow: auto !important;
    padding-right: 0 !important;
    margin-right: 0 !important;
}

/* 使用JavaScript来完全控制模态框的滚动行为 */
.modal {
    /* 模态框自身处理滚动 */
    overflow-x: hidden;
    overflow-y: auto;
}

/* 确保模态框不会影响body滚动 */
.modal-backdrop {
    /* 背景层不影响滚动 */
    position: fixed !important;
}

/* 滚动条样式 */
::-webkit-scrollbar {
    width: 8px;
}

::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 10px;
}

::-webkit-scrollbar-thumb {
    background: #888;
    border-radius: 10px;
}

::-webkit-scrollbar-thumb:hover {
    background: #555;
}

/* 左侧侧边栏样式 - 深灰渐变 */
.sidebar {
    position: fixed;
    top: 70px; /* 避免被导航栏遮挡 */
    left: 0;
    width: 250px;
    height: calc(100vh - 70px); /* 调整高度 */
    background: linear-gradient(135deg, #34495e 0%, #2c3e50 100%);
    z-index: 1040; /* 在导航栏下方但在其他内容上方 */
    transition: all 0.3s ease;
    box-shadow: 2px 0 10px rgba(0, 0, 0, 0.15);
    overflow: hidden;
}

.sidebar.collapsed {
    width: 60px !important;
}

/* 确保伸缩动画效果已合并到主样式 */

.sidebar.collapsed .sidebar-header h6 {
    opacity: 0;
    transition: opacity 0.3s ease;
}

.sidebar:not(.collapsed) .sidebar-header h6 {
    opacity: 1;
    transition: opacity 0.3s ease;
}

.sidebar-header {
    padding: 15px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    height: 70px; /* 固定高度，防止收缩时高度变化 */
    display: flex;
    align-items: center;
    box-sizing: border-box;
}

.sidebar-content {
    padding: 20px 0;
    height: calc(100vh - 140px); /* 调整高度计算，减去固定的标题区高度 */
    overflow-y: auto;
}

.sidebar .nav-link {
    display: flex;
    align-items: center;
    padding: 12px 20px;
    color: rgba(255, 255, 255, 0.8);
    text-decoration: none;
    transition: all 0.3s ease;
    border-left: 3px solid transparent;
    position: relative;
    min-height: 48px; /* 固定最小高度 */
    box-sizing: border-box;
}

.sidebar .nav-link:hover {
    background: rgba(255, 255, 255, 0.1);
    color: white;
    border-left-color: rgba(255, 255, 255, 0.3);
}

.sidebar .nav-link.active {
    background: rgba(255, 255, 255, 0.2);
    color: white;
    border-left-color: white;
    box-shadow: inset 0 0 10px rgba(255, 255, 255, 0.1);
}

.sidebar .nav-link i {
    width: 20px;
    margin-right: 10px;
    text-align: center;
    font-size: 1.1rem;
    flex-shrink: 0;
}

/* 展开状态下文字的正常样式 */
.sidebar:not(.collapsed) .nav-text {
    opacity: 1;
    width: auto;
    transition: opacity 0.3s ease, width 0.3s ease;
}

.sidebar.collapsed .nav-text {
    opacity: 0; /* 使用透明度而非display:none，保持布局空间 */
    width: 0; /* 宽度为0，实现横向消失效果 */
    overflow: hidden;
    transition: opacity 0.3s ease, width 0.3s ease;
}

.sidebar.collapsed .nav-link {
    justify-content: center;
    padding: 12px;
    min-height: 48px; /* 保持固定高度 */
}

.sidebar-toggle {
    transition: none; /* 禁用动画，防止冲突 */
}

/* 禁用按钮旋转，改用图标切换 */
.sidebar.collapsed .sidebar-toggle {
    /* transform: rotate(180deg); 注释掉旋转 */
}

/* 主内容区域样式 */
.main-content {
    margin-left: 250px;
    padding: 20px;
    min-height: 100vh;
    background-color: #f8f9fa;
    transition: all 0.3s ease;
}

.main-content.expanded {
    margin-left: 60px;
}

/* 顶部工具栏样式 */
.toolbar {
    background: white;
    border-radius: 10px;
    padding: 15px;
    box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
    margin-bottom: 20px;
}

/* 移动端适配 */
@media (max-width: 768px) {
    .sidebar {
        transform: translateX(-100%);
        z-index: 1050;
    }

    .sidebar.show {
        transform: translateX(0);
    }

    .main-content {
        margin-left: 0;
    }

    .main-content.expanded {
        margin-left: 0;
    }

    .toolbar {
        position: relative;
        z-index: 999;
    }
}

/* 侧边栏遮罩层 */
.sidebar-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    z-index: 1040;
    display: none;
}

.sidebar-overlay.show {
    display: block;
}

/* 维度分析展示区样式 */
.analysis-section {
    margin-top: 20px;
}

.dimension-content {
    animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

/* 动态统计卡片增强样式 */
#dynamicStats .card {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    border: 2px solid transparent;
}

#dynamicStats .card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
}

#dynamicStats .card.border-primary:hover {
    border-color: #34495e;
}

/* 橙色强调色用于重要按钮 - 高优先级 */
.btn-primary,
.btn-outline-primary {
    background-color: #e67e22 !important;
    border-color: #e67e22 !important;
}

.btn-primary:hover,
.btn-primary:focus,
.btn-primary:active,
.btn-outline-primary:hover,
.btn-outline-primary:focus,
.btn-outline-primary:active {
    background-color: #d35400 !important;
    border-color: #d35400 !important;
    color: white !important;
}

.btn-outline-primary {
    color: #e67e22 !important;
    background-color: transparent !important;
}

.btn-outline-primary:hover {
    color: white !important;
}

/* 确保所有primary类按钮都使用橙色 - 超强优先级 */
.btn.btn-primary,
button.btn.btn-primary,
.btn.btn-primary:not(:disabled):not(.disabled) {
    background-color: #e67e22 !important;
    border-color: #e67e22 !important;
    color: white !important;
}

.btn.btn-outline-primary,
button.btn.btn-outline-primary,
.btn.btn-outline-primary:not(:disabled):not(.disabled) {
    color: #e67e22 !important;
    border-color: #e67e22 !important;
    background-color: transparent !important;
}

/* 特别针对页面中的具体按钮 */
button[onclick="exportCurrentView()"],
#exportContentTypeData,
#exportCategoryUsers {
    color: #e67e22 !important;
    border-color: #e67e22 !important;
    background-color: transparent !important;
}

button[onclick="exportCurrentView()"]:hover,
#exportContentTypeData:hover,
#exportCategoryUsers:hover {
    background-color: #e67e22 !important;
    border-color: #e67e22 !important;
    color: white !important;
}

#dynamicStats .card.border-success:hover {
    border-color: #28a745;
}

#dynamicStats .card.border-info:hover {
    border-color: #34495e;
}

#dynamicStats .card.border-warning:hover {
    border-color: #e67e22;
}

/* Badge标签样式 - 深色系配色 */
.badge.bg-primary {
    background-color: #34495e !important;
}

.badge.bg-success {
    background-color: #27ae60 !important;
}

.badge.bg-info {
    background-color: #3498db !important;
}

.badge.bg-warning {
    background-color: #e67e22 !important;
}

/* 确保所有Bootstrap组件都使用新配色 */
.text-primary {
    color: #34495e !important;
}

.text-success {
    color: #27ae60 !important;
}

.text-info {
    color: #3498db !important;
}

.text-warning {
    color: #e67e22 !important;
}

.border-primary {
    border-color: #34495e !important;
}

.border-success {
    border-color: #27ae60 !important;
}

.border-info {
    border-color: #3498db !important;
}

.border-warning {
    border-color: #e67e22 !important;
}

/* 最终确保所有按钮样式都被覆盖 */
.btn-outline-primary,
.btn-outline-primary:not(:disabled):not(.disabled),
button.btn-outline-primary {
    color: #e67e22 !important;
    border-color: #e67e22 !important;
    background-color: transparent !important;
}

.btn-outline-primary:hover,
.btn-outline-primary:focus,
.btn-outline-primary:active,
.btn-outline-primary.active,
button.btn-outline-primary:hover,
button.btn-outline-primary:focus,
button.btn-outline-primary:active {
    color: white !important;
    background-color: #e67e22 !important;
    border-color: #e67e22 !important;
}

#dynamicStats .display-4 {
    font-weight: 700;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* 洞察卡片样式 */
#dynamicStats .card ul li {
    margin-bottom: 8px;
    position: relative;
    padding-left: 20px;
}

#dynamicStats .card ul li:before {
    content: "💡";
    position: absolute;
    left: 0;
    top: 0;
}

/* 顶部导航栏适配 */
.navbar {
    position: fixed !important;
    top: 0;
    left: 0;
    right: 0;
    z-index: 1050; /* 确保在侧边栏之上 */
    width: 100%;
}

/* 页面补丁 */
body {
    padding-top: 70px; /* 为顶部导航栏预留空间 */
}

/* 强制覆盖Bootstrap默认样式 */
.navbar.navbar-dark.bg-primary {
    background: #2c3e50 !important;
    background-color: #2c3e50 !important;
}

.navbar-dark .navbar-brand {
    color: #ffffff !important;
}

.navbar-dark .navbar-brand:hover,
.navbar-dark .navbar-brand:focus {
    color: #e67e22 !important;
}

/* 强制侧边栏样式 */
body .sidebar {
    background: linear-gradient(135deg, #34495e 0%, #2c3e50 100%) !important;
}